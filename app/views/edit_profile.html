<div ng-init="upload()" ng-controller="ProfileController" layout="column"  ng-cloak="" class="md-inline-form tabsdemoDynamicHeight">

  <md-content  layout-gt-sm="column" layout-padding="">
    <md-tabs md-dynamic-height="" md-border-bottom="">
      <md-tab label="Basic Info">
        <md-content class="md-padding">
          <h3>Basic Information</h3>
          <div>
            <md-input-container>
              <label>Title</label>
              <md-select ng-model="profileItem.title">
                <md-option>Mr.</md-option>
                <md-option>Ms.</md-option>
              </md-select>
            </md-input-container>
          </div>
          <div>
            <md-input-container>
              <label>First Name</label>
              <input ng-model="profileItem.firstname">
            </md-input-container>
            <md-input-container>
              <label>Last Name</label>
              <input ng-model="profileItem.lastname">
            </md-input-container>
          </div>
          <div layout-gt-sm="column">
            <div>
              <md-button class="md-raised md-primary" ng-click="update(profileItem)">Update</md-button>
            </div>
            <div ng-show="success">
              <p>Updated Successfully!</p>
            </div>
          </div>
        </md-content>
      </md-tab>
      <md-tab label="Privacy">
        <md-content class="md-padding" layout-gt-sm="column">
          <div>
            <md-input-container>
              <label>Username</label>
              <input ng-model="profileItem.username" disabled>
            </md-input-container>
            <md-input-container>
              <label>Email</label>
              <input ng-model="profileItem.email" type="email" disabled>
            </md-input-container>
          </div>
          <div>
            <md-input-container>
              <label>Password</label>
              <input ng-model="profileItem.password" type="password" disabled>
            </md-input-container>
          </div>
          <div ng-controller="DialogCtrl">
            <md-button class="md-raised md-primary" class="md-primary md-raised" ng-click="showTabDialog($event)">Change Password</md-button>
          </div>
        </md-content>
      </md-tab>
      <md-tab label="Contact">
        <md-content class="md-padding">
          <form name="profileForm">
            <div>
              <h3>Contact Details</h3>
              <div layout-gt-xs="row">
                <md-input-container class="md-block" flex-gt-xs="25">
                  <label>Street</label>
                  <input ng-model="profileItem.address.street">
                </md-input-container>
                <md-input-container class="md-block" flex-gt-xs="25">
                  <label>City</label>
                  <input ng-model="profileItem.address.city">
                </md-input-container>
              </div>
              <div layout-gt-xs="row">
                <md-input-container class="md-block" flex-gt-xs="10">
                  <label>Postal Code</label>
                  <input name="postalCode" ng-model="profileItem.address.postalCode" placeholder="12345"
                         required ng-pattern="/^[0-9]{5}$/" md-maxlength="5">
                  <div ng-messages="profileForm.postalCode.$error" role="alert" multiple>
                    <div ng-message="required" class="my-message">Enter tbe Postal Code!</div>
                    <div ng-message="pattern" class="my-message">Enter a valid Postal Code!</div>
                    <div ng-message="md-maxlength" class="my-message">
                      Postal Code has only 5 digits!
                    </div>
                  </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-xs="20">
                  <label>State</label>
                  <input ng-model="profileItem.address.state">
                </md-input-container>
                <md-input-container class="md-block" flex-gt-xs="20">
                  <label>Country</label>
                  <input ng-model="profileItem.address.country">
                </md-input-container>
              </div>
              <div layout-gt-sm="column">
                <div>
                  <md-button class="md-raised md-primary" ng-disabled="profileForm.$invalid" ng-click="update(profileItem)">Update</md-button>
                </div>
                <div ng-show="success">
                  <p>Updated Successfully!</p>
                </div>
              </div>
            </div>
          </form>
        </md-content>
      </md-tab>
      <md-tab label="Affiliation">
        <md-content class="md-padding">
          <h3>Affiliation Information</h3>
          <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm="50">
              <label>Name of the Institution</label>
              <input ng-model="profileItem.institution.instName">
            </md-input-container>
          </div>
          <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm="10">
              <label>City</label>
              <input ng-model="profileItem.institution.instCity">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm="20">
              <label>State</label>
              <input ng-model="profileItem.institution.instState">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm="20">
              <label>Country</label>
              <input ng-model="profileItem.institution.instCountry">
            </md-input-container>
          </div>
          <div layout-gt-sm="column">
            <div>
              <md-button class="md-raised md-primary" ng-click="update(profileItem)">Update</md-button>
            </div>
            <div ng-show="success">
              <p>Updated Successfully!</p>
            </div>
          </div>
        </md-content>
      </md-tab>
    </md-tabs>
  </md-content>
</div>
<div>
  <script type="text/ng-template" id="tabDialog.tmpl.html">
    <md-dialog aria-label="Change Password">
      <form>
        <md-toolbar>
          <div class="md-toolbar-tools">
            <h2>Change Password</h2>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="cancel()">
              <md-icon md-svg-src="img/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
            </md-button>
          </div>
        </md-toolbar>
        <md-dialog-content style="max-width:350px;max-height:810px; ">
          <md-content class="md-padding" layout-gt-sm="column">
            <div>
              <md-input-container>
                <label>Enter Current Password</label>
                <input ng-model="" type="password">
              </md-input-container>
              <md-input-container>
                <label>Repeat Current Password</label>
                <input ng-model="" type="password">
              </md-input-container>
              <md-input-container>
                <label>Enter New Password</label>
                <input ng-model="" type="password">
              </md-input-container>
            </div>
          </md-content>
        </md-dialog-content>
        <md-dialog-actions layout="row" class="buttonEqual">
          <div>
            <md-button class="md-raised md-primary" ng-click="answer('Confirm')" >
              Not Useful
            </md-button>
            <md-button class="md-raised md-primary" ng-click="answer('Cancel')" style="margin-right:20px;" >
              Useful
            </md-button>
          </div>
        </md-dialog-actions>
      </form>
    </md-dialog>
  </script>
</div>